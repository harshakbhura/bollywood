<!--
  Generated template for the LevelPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
 
  <ion-navbar>
    <ion-title>Level {{level+1}}</ion-title>
  </ion-navbar>
 
</ion-header>
 
<ion-content padding [ngClass]="{'bk-sky':true,'img-center':!movie}">
  <div *ngIf="movie; then thenBlock else elseBlock"></div>
  <ng-template #thenBlock>
    <div  text-center>
    <button class="bk-trans pd-4" *ngFor="let ch of chances">
      <ion-icon name="ios-bulb" [ngClass]="{'color-light':ch>=5-chance,'color-dark':ch<5-chance,'font-big':true}">
      </ion-icon>
    </button>
    </div>
    <div text-center class="count-word" [innerHTML]="'Number of words '+movieArr.length"></div>
    <div class="pd-top-10" text-center>
      <span *ngFor="let word of movieArr">
        <button ion-button color="dark" class="alpha-box" *ngFor="let ch of word.split('')">{{ch=='_'?'':ch}}</button>
        <br/>
      </span>
    </div>
    <ion-fab left middle #fab>
      <button ion-fab color="dark"><ion-icon color="sun" name="bulb"></ion-icon></button>
      <ion-fab-list side="right" class="fab-button">
        <button *ngIf="!isHintVisible" ion-button color="body" (click)="showHint('director',fab)">Director</button>
        <button *ngIf="!isHintVisible" ion-button color="body" (click)="showHint('cast',fab)">Cast</button>
        <button *ngIf="!isHintVisible" ion-button color="body" (click)="showHint('genre',fab)">Genre</button>
        <button *ngIf="isHintVisible" ion-button color="body" class="wrap-word">{{hintType}} : {{hint}}</button>
      </ion-fab-list>
    </ion-fab>
    <alpha-keyboard (alphaPressed)="handleKeyboardEvents($event)" [guessed]="guessed"></alpha-keyboard>
  </ng-template>
 
  <ng-template #elseBlock class="bk-sky">
    <img src="assets/imgs/spot.gif">
  </ng-template>
 
  <div [innerHTML]="wikipage" class="hide"></div>    
 
</ion-content>